(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{31:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(20),r=c.n(n),i=c(6),l=c(3),o=(c(31),c(0)),d=function(){return Object(o.jsx)(i.b,{to:"/",className:"logo",children:Object(o.jsx)("div",{className:"logo__img"})})},j=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("label",{htmlFor:"scroll",className:"scrollUp__text",children:"Back to top"}),Object(o.jsx)("button",{type:"button",id:"scroll",className:"scrollUp__container",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(o.jsx)("div",{className:"arrow arrow--up"})})]})},u=function(){return Object(o.jsxs)("div",{className:"footer__container",children:[Object(o.jsx)(d,{}),Object(o.jsx)("nav",{className:"footer__nav",children:Object(o.jsxs)("ul",{className:"footer__navList",children:[Object(o.jsx)(i.c,{to:"https://github.com/Ir-ra/react_phone-catalog",className:"footer__navItem",target:"_blank",children:"Github"}),Object(o.jsx)(i.c,{to:"/",className:"footer__navItem",children:"Contacts"}),Object(o.jsx)(i.c,{to:"/",className:"footer__navItem",children:"rights"})]})}),Object(o.jsx)("div",{className:"footer__buttonUp scrollUp",children:Object(o.jsx)(j,{})})]})},b=c(4),m=c(7),_=c.n(m),h=c(26),p=c.n(h),O=s.a.createContext({appliedQuery:"",applyQuery:function(){}}),x=function(e){var t=e.children,c=Object(a.useState)(""),s=Object(b.a)(c,2),n=s[0],r=s[1],i=Object(a.useCallback)(p()(r,1e3),[]);return Object(o.jsx)(O.Provider,{value:{appliedQuery:n,applyQuery:i},children:t})},v=function(e,t){var c=new URLSearchParams(t);return Object.keys(e).forEach((function(t){var a=e[t];null===a?c.delete(t):Array.isArray(a)?(c.delete(t),a.forEach((function(e){return c.append(t,e.toString())}))):c.set(t,a.toString())})),c.toString()},f=function(){var e=Object(i.d)(),t=Object(b.a)(e,2),c=t[0],s=t[1],n=c.get("query")||"",r=Object(a.useContext)(O).applyQuery,d=Object(l.n)().pathname.slice(1);r(n);return Object(o.jsxs)("form",{className:"search",children:[Object(o.jsx)("label",{className:"search__bar",htmlFor:"query",children:Object(o.jsx)("input",{className:"search__input",type:"search",name:"query",placeholder:"Search in ".concat(d,"..."),value:n,onChange:function(e){s(v({query:e.target.value||null},c)),r(e.target.value)}})}),n?Object(o.jsx)("button",{type:"button","data-cy":"searchDelete",className:_()("search__icon",{"search__icon--active":n}),"aria-label":"close",onClick:function(){var e=new URLSearchParams(c);e.delete("query"),s(e.toString()),r("")}}):Object(o.jsx)("div",{className:"search__icon"})]})},N=c(12),g=c(9),y=Object(a.createContext)({cartItems:[],addToCart:function(){},removeFromCart:function(){},plusItem:function(){},minusItem:function(){},cartCount:0,cartTotalPrice:0,checkAdded:function(){return!1}}),C=function(e){var t=e.children,c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(0),l=Object(b.a)(i,2),d=l[0],j=l[1],u=Object(a.useState)(0),m=Object(b.a)(u,2),_=m[0],h=m[1];Object(a.useEffect)((function(){var e=localStorage.getItem("cartItems");e&&r(JSON.parse(e))}),[]),Object(a.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(n))}),[n]),Object(a.useEffect)((function(){var e=n.reduce((function(e,t){return e+t.quantity}),0);j(e)}),[n]),Object(a.useEffect)((function(){var e=n.reduce((function(e,t){return e+t.quantity*t.price}),0);h(e)}),[n]);var p={cartItems:n,addToCart:function(e){r((function(t){return function(e,t){return e.find((function(e){return e.id===t.id}))?e:[].concat(Object(g.a)(e),[Object(N.a)({},t)])}(t,e)}))},removeFromCart:function(e){r((function(t){return function(e,t){return e.filter((function(e){return e.id!==t.id}))}(t,e)}))},plusItem:function(e){r((function(t){return t.map((function(t){return t.id===e.id?Object(N.a)(Object(N.a)({},t),{},{quantity:t.quantity+1}):t}))}))},minusItem:function(e){r((function(t){return t.map((function(t){if(t.id===e.id){var c=t.quantity>1?t.quantity-1:1;return Object(N.a)(Object(N.a)({},t),{},{quantity:c})}return t}))}))},cartCount:d,cartTotalPrice:_,checkAdded:function(e){return n.some((function(t){return t.id===e}))}};return Object(o.jsx)(y.Provider,{value:p,children:t})},k=Object(a.createContext)({favItems:[],addToFavs:function(){},removeFromFavs:function(){},checkFav:function(){return!1},toggleFav:function(){return!1}}),w=function(e){var t=e.children,c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],r=s[1];Object(a.useEffect)((function(){var e=localStorage.getItem("favouriteItems");e&&r(JSON.parse(e))}),[]),Object(a.useEffect)((function(){localStorage.setItem("favouriteItems",JSON.stringify(n))}),[n]);var i=function(e){r([].concat(Object(g.a)(n),[Object(N.a)({},e)]))},l=function(e){r(n.filter((function(t){return e.id!==t.id})))},d={favItems:n,addToFavs:i,removeFromFavs:l,toggleFav:function(e){return n.some((function(t){return t.id===e.id}))?(l(e),!1):(i(e),!0)},checkFav:function(e){return n.some((function(t){return t.id===e}))}};return Object(o.jsx)(k.Provider,{value:d,children:t})},S=function(){var e=Object(l.n)(),t=Object(a.useContext)(y).cartCount,c=Object(a.useContext)(k).favItems,s=["/phones","/tablets","/accessories","/favourites"].includes(e.pathname),n=["/cart"].includes(e.pathname),r=Object(a.useState)(!1),j=Object(b.a)(r,2),u=j[0],m=j[1],h=function(){m(!u)},p=function(){m(!1)};return Object(o.jsxs)("nav",{className:"navbar",children:[u?Object(o.jsx)("button",{type:"button","aria-label":"navbar__cross",className:"navbar__cross",onClick:h}):Object(o.jsx)("button",{type:"button","aria-label":"navbar__burger",className:"navbar__burger",onClick:h}),Object(o.jsx)(d,{}),Object(o.jsxs)("ul",{className:_()("navbar__list",{"navbar__list--mob":u}),children:[Object(o.jsx)(i.c,{to:"/",className:_()("navbar__item",{"navbar__item--active":"/"===e.pathname}),onClick:p,children:"home"}),Object(o.jsx)(i.c,{to:"/phones",className:_()("navbar__item",{"navbar__item--active":"/phones"===e.pathname}),onClick:p,children:"phones"}),Object(o.jsx)(i.c,{to:"/tablets",className:_()("navbar__item",{"navbar__item--active":"/tablets"===e.pathname}),onClick:p,children:"tablets"}),Object(o.jsx)(i.c,{to:"/accessories",className:"navbar__item ".concat("/accessories"===e.pathname?"navbar__item--active":""),onClick:p,children:"accessories"}),Object(o.jsxs)(i.c,{to:"/favourites",className:"navbar__item navbar__item-mob ".concat("/favourites"===e.pathname?"navbar__item--active":""),onClick:p,children:["favourites",c.length>0&&Object(o.jsx)("span",{className:"navbar__icon--count-mob",children:Object(o.jsx)("span",{className:"navbar__icon--count",children:c.length})})]}),Object(o.jsxs)(i.c,{to:"/cart",className:"navbar__item navbar__item-mob ".concat("/cart"===e.pathname?"navbar__item--active":""),onClick:p,children:["cart",t>0&&Object(o.jsx)("span",{className:"navbar__icon--count-mob",children:Object(o.jsx)("span",{className:"navbar__icon--count",children:t})})]})]}),Object(o.jsx)("div",{className:"navbar__search",children:s&&Object(o.jsx)(f,{})}),Object(o.jsxs)("div",{className:"navbar__icons",children:[!n&&Object(o.jsx)(i.b,{to:"/favourites",className:_()("navbar__icon",{"navbar__icon--active":"/favourites"===e.pathname}),children:c.length>=1?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"navbar__icon--favs"}),Object(o.jsx)("span",{className:"navbar__icon--count-box",children:Object(o.jsx)("span",{className:"navbar__icon--count",children:c.length})})]}):Object(o.jsx)("div",{className:"navbar__icon--favs"})}),Object(o.jsx)(i.b,{to:"/cart",className:_()("navbar__icon",{"navbar__icon--active":"/cart"===e.pathname}),children:t>=1?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"navbar__icon--cart"}),Object(o.jsx)("span",{className:"navbar__icon--count-box",children:Object(o.jsx)("span",{className:"navbar__icon--count",children:t})})]}):Object(o.jsx)("div",{className:"navbar__icon--cart"})})]})]})},I=c(5),P=c.n(I),q=c(8),F="https://mate-academy.github.io/react_phone-catalog/_new/products.json",T=s.a.createContext({products:[],loading:!1}),A=function(e){var t=e.children,c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(!1),l=Object(b.a)(i,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){function e(){return(e=Object(q.a)(P.a.mark((function e(){var t,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,fetch(F);case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,r(c),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(1),new Error("Unable to add products, please try again later");case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(o.jsx)(T.Provider,{value:{products:n,loading:d},children:t})};function E(){return Object(a.useContext)(T)}var L=function(e){var t=e.prodId,c=Object(a.useContext)(y),s=c.addToCart,n=c.checkAdded,r=E().products,i=Object(a.useState)(n(t)),l=Object(b.a)(i,2),d=l[0],j=l[1];return Object(o.jsx)("button",{type:"button",className:_()("addToCart",{"addToCart--selected":d}),onClick:function(){var e=r.find((function(e){return e.itemId===t}));e&&(s({id:t,product:e,quantity:1,price:e.price}),j(!0))},children:d?Object(o.jsx)("p",{children:"Added to cart"}):Object(o.jsx)("p",{children:"Add to cart"})})},B=function(e){var t=e.prodId,c=Object(a.useContext)(k),s=c.toggleFav,n=c.checkFav,r=Object(a.useState)(n(t)),i=Object(b.a)(r,2),l=i[0],d=i[1],j=E().products;return Object(o.jsx)("button",{type:"button","data-cy":"addToFavorite",className:_()("addFav",{"addFav--selected":l}),onClick:function(){var e=j.find((function(e){return e.itemId===t}));if(e){var c=s({id:t,product:e});d(c)}},children:l?Object(o.jsx)("div",{className:"addFav--heart_selected"}):Object(o.jsx)("div",{className:"addFav--heart"})})},M=function(e){var t=e.product,c=t.image,a=t.name,s=t.price,n=t.fullPrice,r=t.screen,l=t.capacity,d=t.ram,j=t.itemId,u=t.category,b=t.year,m=E().products,_=Math.max.apply(Math,Object(g.a)(m.map((function(e){return e.year}))));return Object(o.jsxs)("div",{className:"card","data-cy":"cardsContainer",children:[Object(o.jsx)(i.b,{to:"/".concat(u,"/").concat(j),className:"card__imgContainer",children:Object(o.jsx)("img",{className:"card__img",src:"./new/".concat(c),alt:a})}),Object(o.jsxs)("div",{className:"card__infoContaiter",children:[Object(o.jsx)(i.b,{to:"/".concat(u,"/").concat(j),className:"card__title",children:a}),Object(o.jsxs)("div",{className:"card__price",children:[Object(o.jsx)("p",{className:"card__price--new",children:"$".concat(s)}),b<_&&Object(o.jsx)("p",{className:"card__price--old",children:"$".concat(n)})]}),Object(o.jsxs)("div",{className:"card__description",children:[Object(o.jsxs)("div",{className:"card__description--line",children:[Object(o.jsx)("p",{className:"card__description--key",children:"Screen"}),Object(o.jsx)("p",{className:"card__description--val",children:r})]}),Object(o.jsxs)("div",{className:"card__description--line",children:[Object(o.jsx)("p",{className:"card__description--key",children:"Capacity"}),Object(o.jsx)("p",{className:"card__description--val",children:l})]}),Object(o.jsxs)("div",{className:"card__description--line",children:[Object(o.jsx)("p",{className:"card__description--key",children:"RAM"}),Object(o.jsx)("p",{className:"card__description--val",children:d})]})]}),Object(o.jsxs)("div",{className:"card__buttonContaiter",children:[Object(o.jsx)(L,{prodId:t.itemId}),Object(o.jsx)(B,{prodId:t.itemId})]})]})]})},R=function(e){var t=e.products,c=e.title,s=Object(a.useState)(0),n=Object(b.a)(s,2),r=n[0],i=n[1],l=0===r,d=r===t.length-4;return Object(o.jsxs)("div",{className:"productSlider",children:[Object(o.jsxs)("div",{className:"productSlider__top",children:[Object(o.jsx)("h2",{className:"productSlider__top--title",children:c}),Object(o.jsxs)("div",{className:"productSlider__top--buttons",children:[Object(o.jsx)("button",{type:"button",title:"Previous",className:_()("productSlider__button",{"productSlider__button--disabled":l}),onClick:function(){var e=t.length-1;i((function(t){return t-1<0?e:t-1}))},disabled:l,children:Object(o.jsx)("span",{className:_()("arrow arrow--left",{"arrow--left-disabled":l})})}),Object(o.jsx)("button",{type:"button",title:"Next",className:_()("productSlider__button",{"productSlider__button--disabled":d}),onClick:function(){var e=t.length-1;i((function(t){return t+1>e?0:t+1}))},disabled:d,children:Object(o.jsx)("span",{className:_()("arrow arrow--right",{"arrow--right-disabled":d})})})]})]}),Object(o.jsx)("div",{className:"productSlider__main",children:Object(o.jsx)("ul",{className:"productSlider__list",children:t.map((function(e){return Object(o.jsx)("li",{style:{transform:"translateX(-".concat(288*r,"px)"),transition:"".concat(500,"ms"),width:"".concat(272,"px")},children:Object(o.jsx)(M,{product:e})},e.id)}))})})]})},U=function(){var e=function(e){var t=Math.max.apply(Math,Object(g.a)(e.map((function(e){return e.year})))),c=e.filter((function(e){return e.year===t}));return c.sort((function(e,t){var c=e.price;return t.price-c})),c}(E().products);return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(R,{products:e,title:"Brand new models"})})},D=function(){var e=Object(a.useState)(["phones.png","tablets.png","accessories.png"]),t=Object(b.a)(e,1)[0],c=Object(a.useState)(0),s=Object(b.a)(c,2),n=s[0],r=s[1],i={mob:400,tab:600,desc:963,descXL:1040},l=function(e){return i[e]||i.mob},d=function(){var e=t.length-1;r((function(t){return t+1>e?0:t+1}))};Object(a.useEffect)((function(){var e=setInterval((function(){d()}),5e3);return function(){clearInterval(e)}}),[n]);return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"slider",children:[Object(o.jsx)("button",{type:"button",title:"Previous",className:"slider__button",onClick:function(){var e=t.length-1;r((function(t){return t-1<0?e:t-1}))},children:Object(o.jsx)("span",{className:"arrow arrow--left"})}),Object(o.jsx)("div",{className:"slider__main",children:Object(o.jsx)("ul",{className:"slider__list",style:{transition:"transform ".concat(500,"ms")},children:t.map((function(e,t){return Object(o.jsx)("li",{children:Object.keys(i).map((function(c){return Object(o.jsx)("img",{className:_()("slider__main--photos","slider__".concat(c)),src:"new/img/banner-".concat(e),alt:"banner-#".concat(t+1),style:{transform:"translateX(-".concat(n*l(c),"px)"),transition:"transform ".concat(500,"ms")}},c)}))},e)}))})}),Object(o.jsx)("button",{type:"button",title:"Next",className:"slider__button",onClick:d,children:Object(o.jsx)("span",{className:"arrow arrow--right"})})]}),Object(o.jsx)("div",{className:"slider__dots",children:t.map((function(e,t){return Object(o.jsx)("button",{type:"button","aria-label":"slider__dots",className:_()("slider__dot",{"slider__dot--active":t===n}),onClick:function(){r(t)}},e)}))})]})};var Q,J=function(){var e=function(e){var t=e.filter((function(e){return e.fullPrice!==e.price}));return t.sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c})),t}(E().products);return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(R,{products:e,title:"Hot prices"})})},$=function(e){return e.filter((function(e){return"phones"===e.category}))},W=function(e){return e.filter((function(e){return"tablets"===e.category}))},K=function(e){return e.filter((function(e){return"accessories"===e.category}))},V=function(){var e=E().products,t=$(e),c=W(e),a=K(e),s=[{img:"phones.png",title:"Mobile phones",quantity:"".concat(t.length," models")},{img:"tablets.png",title:"Tablets",quantity:"".concat(c.length," models")},{img:"accessories.png",title:"Accessories",quantity:"".concat(a.length," models")}];return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"category",children:[Object(o.jsx)("h2",{className:"category__main-title",children:"ShopByCategory"}),Object(o.jsx)("div",{className:"category__links",children:s.map((function(e){return Object(o.jsxs)(i.b,{to:"/".concat(e.img.slice(0,-4)),className:"category__card","data-cy":"categoryLinksContainer",children:[Object(o.jsx)("div",{className:"\n            category__photoContainer\n            category__photoContainer--".concat(e.img.slice(0,-4)),children:Object(o.jsx)("img",{src:"new/img/category-".concat(e.img),alt:"category-".concat(e.img.slice(0,-4)),className:"category__photo category__photo--".concat(e.img.slice(0,-4))})}),Object(o.jsx)("p",{className:"category__title",children:e.title}),Object(o.jsx)("p",{className:"category__subtitle",children:e.quantity})]},e.img)}))})]})})},X=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(D,{}),Object(o.jsx)(J,{}),Object(o.jsx)(V,{}),Object(o.jsx)(U,{})]})},Y=function(){return Object(o.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(o.jsx)("div",{className:"Loader__content"})})},z=function(e){var t=e.sortBy,c=e.label,s=e.handleChange,n=e.sortKeys,r=e.sortValues,i=Object(a.useState)(!1),l=Object(b.a)(i,2),d=l[0],j=l[1],u=n.find((function(e,c){return t===r[c]}))||"all";return Object(o.jsxs)("div",{className:"selector",children:[Object(o.jsx)("p",{className:"selector__title",children:c}),Object(o.jsxs)("button",{className:"selector__button",onClick:function(){j(!d)},type:"button",children:[u,Object(o.jsx)("span",{className:"selector__iconContainer",children:Object(o.jsx)("div",{className:"selector__iconContainer--icon"})})]}),d&&Object(o.jsx)("ul",{className:"selector__options",children:n.map((function(e,c){return Object(o.jsx)("button",{className:"selector__option ".concat(t===r[c]?"selected":""),onClick:function(){return e=r[c],s({target:{value:e}}),void j(!1);var e},type:"button",children:e},e)}))})]})},G=function(e){var t=e.total,c=e.perPage,a=e.currentPage,s=e.onPageChange,n=Math.ceil(t/+c),r=Math.max(1,a-2),i=Math.min(n,a+2),l=1===a,d=a===n,j=Array.from({length:i-r+1},(function(e,t){return r+t}));return Object(o.jsx)("div",{className:"pagination",children:Object(o.jsxs)("ul",{className:"pagination__list",children:[Object(o.jsx)("li",{className:_()("pagination__left",{"pagination__left--disabled":l}),children:Object(o.jsx)("button",{type:"button","data-cy":"paginationLeft",className:"pagination__btn","aria-disabled":"true",onClick:function(){1!==a&&s(a-1)},children:Object(o.jsx)("span",{className:_()("arrow arrow--left",{"arrow--left-disabled":l})})})}),j.map((function(e){return Object(o.jsx)("li",{className:_()("pagination__num",{"pagination__num--active":a===e,"pagination__num--inactive":a!==e}),children:Object(o.jsx)("button",{type:"button","data-cy":"pageLink",className:_()("pagination__num-link",{"pagination__num-link--active":a===e,"pagination__num-link--inactive":a!==e}),onClick:function(){return function(e){a!==e&&s(e)}(e)},children:Object(o.jsx)("span",{className:"pagination__num-link--span",children:e})})},e)})),Object(o.jsx)("li",{className:_()("pagination__rigth",{"pagination__rigth--disabled":d}),children:Object(o.jsx)("button",{type:"button","data-cy":"paginationRight",className:"pagination__btn","aria-disabled":"false",onClick:function(){a!==n&&s(a+1)},children:Object(o.jsx)("span",{className:_()("arrow arrow--right",{"arrow--right-disabled":d})})})})]})})},H=function(e){var t=e.arrOfItems;return Object(o.jsx)("div",{className:"productsList","data-cy":"productList",children:t.map((function(e){return Object(o.jsx)("div",{className:"productsList__card",children:Object(o.jsx)(M,{product:e})},e.id)}))})};!function(e){e.Newest="year",e.Alphabetically="name",e.Cheapest="price"}(Q||(Q={}));var Z=s.a.createContext({sortBy:"age",currentPage:1,handleSort:function(){},handlePerPage:function(){},handleCurrentPage:function(){},endItem:0,startItem:0,setSearchWith:function(){},sortedProducts:[],setCurrentPage:function(){},itemsOnPage:""}),ee=function(e){var t=e.children,c=Object(i.d)(),s=Object(b.a)(c,2),n=s[0],r=s[1],l=n.get("sort")||"age",d=n.get("perPage")||"8",j=parseInt(n.get("page")||"1",10),u=Object(a.useState)(l),m=Object(b.a)(u,2),_=m[0],h=m[1],p=Object(a.useState)(d),O=Object(b.a)(p,2),x=O[0],f=O[1],N=Object(a.useState)(j),y=Object(b.a)(N,2),C=y[0],k=y[1],w=E().products;function S(e){var t=v(e,n);r(t)}var I=Object(a.useMemo)((function(){return function(e,t){if(t){var c=Object(g.a)(e);return c.sort((function(e,c){switch(t){case Q.Alphabetically:return e[t].localeCompare(c[t]);case Q.Newest:return+c[t]-+e[t];case Q.Cheapest:return+e[t]-+c[t];default:return 0}})),c}return e}(w,_)}),[w,_]),P=function(e){return"all"===e?I.length.toString():e},q=+P(x),F=(C-1)*q,T=C*q>I.length?I.length:F+q;return Object(o.jsx)(Z.Provider,{value:{sortBy:_,currentPage:C,handleSort:function(e){var t=e.target.value;h(t),S({sort:e.target.value||void 0})},handlePerPage:function(e){var t=e.target.value;f(P(t)),k(1),S({perPage:e.target.value||void 0})},handleCurrentPage:function(e){C!==e&&k(e),S({page:e.toString()||void 0})},endItem:T,startItem:F,setSearchWith:S,sortedProducts:I,setCurrentPage:k,itemsOnPage:x},children:t})};function te(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}var ce=function(){return Object(o.jsx)("p",{className:"noResults",children:"There are no products matching the search query."})},ae=["Newest","Alphabetically","Cheapest"],se=["age","name","price"],ne=["4","8","16","all"],re=["Sort by","Items on page"],ie=function(e){var t=e.products,c=e.title,s=Object(a.useContext)(O).appliedQuery,n=Object(a.useContext)(Z),r=n.sortBy,i=n.currentPage,l=n.handleSort,d=n.handlePerPage,j=n.handleCurrentPage,u=n.endItem,m=n.startItem,_=n.setSearchWith,h=n.sortedProducts,p=n.setCurrentPage,x=n.itemsOnPage,v=Object(a.useState)(!0),f=Object(b.a)(v,2),N=f[0],g=f[1];Object(a.useEffect)((function(){p(1),_({page:"1"})}),[s]);var y=te(h,s),C=y.slice(m,+u);return Object(a.useEffect)((function(){var e=setTimeout((function(){g(!1)}),1e3);return function(){return clearTimeout(e)}}),[]),Object(o.jsxs)(o.Fragment,{children:[N&&Object(o.jsx)(Y,{}),!N&&Object(o.jsxs)("div",{className:"pageDetails",children:[Object(o.jsx)("h2",{className:"pageDetails__title",children:c}),Object(o.jsx)("p",{className:"pageDetails__subtitle",children:"".concat(t.length," models")}),Object(o.jsxs)("div",{className:"pageDetails__sort",children:[Object(o.jsx)("div",{className:"pageDetails__sortBy",children:Object(o.jsx)(z,{sortBy:r,label:re[0],handleChange:l,sortKeys:ae,sortValues:se})}),Object(o.jsx)("div",{className:"pageDetails__perPage",children:Object(o.jsx)(z,{sortBy:x,label:re[1],handleChange:function(e){return d(e)},sortKeys:ne,sortValues:ne})})]}),C&&Object(o.jsx)(H,{arrOfItems:C}),0!==C.length?Object(o.jsx)(G,{total:y.length,perPage:x,currentPage:i,onPageChange:j}):Object(o.jsx)(ce,{})]})]})},le=function(e){var t=e.pathname,c=e.name;return Object(o.jsxs)("div",{className:"breadCrumbs","data-cy":"breadCrumbs",children:[Object(o.jsx)(i.c,{to:"/",className:"breadCrumbs__iconContainer",children:Object(o.jsx)("div",{className:"breadCrumbs__iconContainer--icon"})}),Object(o.jsx)("span",{className:"arrow arrow--right-disabled"}),Object(o.jsx)(i.c,{to:"/".concat(t.toLowerCase()),className:"breadCrumbs__text breadCrumbs__text--path",children:t}),c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"arrow arrow--right-disabled"}),Object(o.jsx)("span",{className:"breadCrumbs__text",children:c})]})]})},oe=function(){return Object(o.jsx)("h1",{className:"noResults",children:"Product not found"})},de=function(){var e=Object(l.n)().pathname,t=e.slice(1,2).toUpperCase()+e.slice(2),c=E().products;Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]);var s=$(c);return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(le,{pathname:t}),s.length?Object(o.jsx)(ie,{products:s,title:"Mobile phones"}):Object(o.jsx)(oe,{})]})},je=function(){var e=Object(l.n)().pathname,t=e.slice(1,2).toUpperCase()+e.slice(2),c=E().products;Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]);var s=W(c);return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(le,{pathname:t}),s.length?Object(o.jsx)(ie,{products:s,title:"Tablets"}):Object(o.jsx)(oe,{})]})},ue=function(){var e=Object(l.n)().pathname,t=e.slice(1,2).toUpperCase()+e.slice(2),c=E().products;Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]);var s=K(c);return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(le,{pathname:t}),s.length?Object(o.jsx)(ie,{products:s,title:"Accessories"}):Object(o.jsx)(oe,{})]})},be=function(){var e=E().products,t=e.sort((function(){return Math.random()-Math.random()})).slice(0,10);return Object(o.jsx)(R,{products:t,title:"You may also like"})},me={black:"#222",rosegold:"#e2a0b0",gold:"#ffd799",silver:"#eee",spacegray:"#717378",green:"#8eb",yellow:"#fe0",white:"#ffe",purple:"#d0a0d0",red:"#e23",midnightgreen:"#004953",coral:"#f88379"},_e=function(e){var t=e.product,c=e.currentImage,a=e.setCurrentImage,s=e.rout,n=e.currentCapacity,r=e.currentColor,l=t.name,d=t.images,j=t.colorsAvailable,u=t.capacityAvailable,b=t.priceDiscount,m=t.priceRegular,h=t.screen,p=t.resolution,O=t.processor,x=t.ram,v=t.capacity,f=t.camera,N=t.zoom,g=t.cell;return Object(o.jsxs)("div",{className:"details",children:[Object(o.jsx)("h1",{className:"details__title",children:l}),Object(o.jsxs)("div",{className:"details__container",children:[Object(o.jsxs)("div",{className:"details__top",children:[Object(o.jsxs)("div",{className:"details__photoBlock",children:[Object(o.jsx)("div",{className:"details__photo-list",children:d.map((function(e){return Object(o.jsx)("button",{type:"button",className:"details__photo",onClick:function(){return a(e)},children:Object(o.jsx)("img",{src:"./new/".concat(e),alt:t.name,className:"details__photo--img"})},e)}))}),Object(o.jsx)("div",{className:"details__mainPhoto",children:Object(o.jsx)("img",{src:"./new/".concat(c),alt:l,className:"details__mainPhoto--photo"})})]}),Object(o.jsxs)("div",{className:"details__baseInfo",children:[Object(o.jsxs)("div",{className:"details__colors",children:[Object(o.jsx)("p",{className:"details__colors-title",children:"Available colors"}),Object(o.jsx)("ul",{className:"details__colors-list",children:j.map((function(e){return Object(o.jsx)(i.b,{to:"".concat(s,"-").concat(n.toLowerCase(),"-").concat(e),style:{backgroundColor:me[e]},className:_()("details__colors-item",{"details__colors-item--active":e===r})},e)}))})]}),Object(o.jsxs)("div",{className:"details__capacity",children:[Object(o.jsx)("p",{className:"details__capacity-title",children:"Select capacity"}),Object(o.jsx)("ul",{className:"details__capacity-list",children:u.map((function(e){return Object(o.jsx)(i.c,{to:"".concat(s,"-").concat(e.toLowerCase(),"-").concat(r),className:_()("details__capacity-item",{"details__capacity-item--active":e===n}),children:e},e)}))})]}),Object(o.jsxs)("div",{className:"details__price",children:[Object(o.jsx)("h2",{className:"details__price--discount",children:"$".concat(b)}),Object(o.jsx)("h3",{className:"details__price--regular",children:"$".concat(m)})]}),Object(o.jsxs)("div",{className:"details__buttons",children:[Object(o.jsx)(L,{prodId:t.id}),Object(o.jsx)(B,{prodId:t.id})]}),Object(o.jsxs)("div",{className:"details__description","data-cy":"productDescription",children:[Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Screen"}),Object(o.jsx)("p",{className:"details__description--val",children:h})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Resolution"}),Object(o.jsx)("p",{className:"details__description--val",children:p})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Processor"}),Object(o.jsx)("p",{className:"details__description--val",children:O})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"RAM"}),Object(o.jsx)("p",{className:"details__description--val",children:x})]})]})]})]}),Object(o.jsxs)("div",{className:"details__bottom",children:[Object(o.jsxs)("div",{className:"details__about",children:[Object(o.jsx)("h3",{className:"details__subtitle",children:"About"}),null===t||void 0===t?void 0:t.description.map((function(e){return Object(o.jsxs)("div",{className:"details__aboutInfo",children:[Object(o.jsx)("h4",{className:"details__aboutInfo--subtitle",children:e.title}),Object(o.jsx)("p",{className:"details__aboutInfo--text",children:e.text})]},e.title)}))]}),Object(o.jsxs)("div",{className:"details__tech",children:[Object(o.jsx)("h3",{className:"details__subtitle",children:"Tech specs"}),Object(o.jsxs)("div",{className:"details__description details__description--tech",children:[Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Screen"}),Object(o.jsx)("p",{className:"details__description--val",children:h})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Resolution"}),Object(o.jsx)("p",{className:"details__description--val",children:p})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Processor"}),Object(o.jsx)("p",{className:"details__description--val",children:O})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"RAM"}),Object(o.jsx)("p",{className:"details__description--val",children:x})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Built in memory"}),Object(o.jsx)("p",{className:"details__description--val",children:v})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Camera"}),Object(o.jsx)("p",{className:"details__description--val",children:f})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Zoom"}),Object(o.jsx)("p",{className:"details__description--val",children:N})]}),Object(o.jsxs)("div",{className:"details__description--line",children:[Object(o.jsx)("p",{className:"details__description--key",children:"Cell"}),Object(o.jsx)("p",{className:"details__description--val",children:g.join(", ")})]})]})]})]})]})]})},he=function(){return Object(o.jsxs)("button",{type:"button",className:"goBack","data-cy":"backButton",onClick:function(){return window.history.back()},children:[Object(o.jsx)("span",{className:"arrow arrow--left-disabled"}),Object(o.jsx)("span",{className:"goBack__span",children:"Back"})]})},pe=function(){var e=Object(l.n)().pathname,t=Object(l.r)().itemId,c=Object(a.useState)(null),s=Object(b.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(!1),d=Object(b.a)(i,2),j=d[0],u=d[1],m=Object(a.useState)(""),_=Object(b.a)(m,2),h=_[0],p=_[1],O=Object(a.useState)(""),x=Object(b.a)(O,2),v=x[0],f=x[1],N=Object(a.useState)(""),g=Object(b.a)(N,2),y=g[0],C=g[1],k=Object(a.useState)(!1),w=Object(b.a)(k,2),S=w[0],I=w[1],F=function(){var e=Object(q.a)(P.a.mark((function e(t){var c,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://mate-academy.github.io/react_phone-catalog/_new","/products/").concat(t,".json"));case 2:return c=e.sent,e.next=5,c.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(a.useEffect)((function(){u(!0),I(!1),F(t).then((function(e){r(e),p(e.images[0])})).catch((function(){return I(!0)})).finally((function(){return u(!1)}))}),[t]),Object(a.useEffect)((function(){var e=null===t||void 0===t?void 0:t.split("-");f((null===e||void 0===e?void 0:e.slice(-2,-1).toString().toUpperCase())||""),C((null===e||void 0===e?void 0:e.slice(-1).toString())||"")}),[t]);var T=e.slice(1,2).toUpperCase()+e.slice(2),A=T.indexOf("/"),E=T.slice(0,A),L="/".concat(E.toLocaleLowerCase(),"/").concat(null===t||void 0===t?void 0:t.split("-").slice(0,-2).join("-"));return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(le,{pathname:E,name:(null===n||void 0===n?void 0:n.name)||""}),Object(o.jsx)(he,{}),j&&Object(o.jsx)(Y,{}),S&&Object(o.jsx)("h2",{className:"noResults",children:"Sorry, there is no phone with a given Id on the server."}),!j&&!S&&n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(_e,{product:n,currentImage:h,setCurrentImage:p,rout:L,currentCapacity:v,currentColor:y}),Object(o.jsx)(be,{})]})]})},Oe=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),c=t[0],s=t[1],n=Object(a.useContext)(y),r=n.cartItems,l=n.removeFromCart,d=n.cartTotalPrice,j=n.cartCount,u=n.plusItem,m=n.minusItem;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"cart__items-container",children:r.map((function(e){return Object(o.jsxs)("div",{className:"cart__item",children:[Object(o.jsxs)("div",{className:"cart__item-info",children:[Object(o.jsxs)("div",{className:"cart__start-info",children:[Object(o.jsx)("button",{type:"button",className:"cart__item-delete","data-cy":"cartDeleteButton",onClick:function(){return l(e)},children:Object(o.jsx)("div",{className:"cart__item-delete--cross"})}),Object(o.jsx)("div",{className:"cart__image-block",children:Object(o.jsx)("img",{src:"./new/".concat(e.product.image),alt:e.product.name,className:"cart__image-block--img"})})]}),Object(o.jsx)(i.b,{to:"/".concat(e.product.category,"/").concat(e.product.itemId),className:"cart__item-link",children:Object(o.jsx)("p",{className:"cart__item-name",children:e.product.name})}),Object(o.jsxs)("div",{className:"cart__quantity",children:[Object(o.jsx)("button",{type:"button",className:_()("cart__quantity-minus",{"cart__quantity-minus--disabled":1===e.quantity}),onClick:function(){return m(e)},children:Object(o.jsx)("div",{className:_()("cart__quantity-minus--minus",{"cart__quantity-minus--minus-disabled":1===e.quantity})})}),Object(o.jsx)("span",{className:"cart__quantity--quantity",children:e.quantity}),Object(o.jsx)("button",{type:"button",className:"cart__quantity-plus",onClick:function(){return u(e)},children:Object(o.jsx)("div",{className:"cart__quantity-plus--plus"})})]})]}),Object(o.jsx)("p",{className:"cart__price",children:"$".concat(e.price)})]},e.id)}))}),Object(o.jsxs)("div",{className:"cart__total",children:[Object(o.jsxs)("div",{className:"cart__total-info",children:[Object(o.jsx)("p",{className:"cart__total-price",children:"$".concat(d)}),Object(o.jsx)("p",{className:"cart__total-items","data-cy":"productQauntity",children:"Total for ".concat(j," items")})]}),Object(o.jsxs)("div",{className:"cart__checkout",children:[Object(o.jsx)("button",{type:"button",className:"cart__checkout-btn",onClick:function(){window.scrollTo({top:0,behavior:"smooth"}),s(!0)},children:Object(o.jsx)("p",{className:"cart__checkout-btn--text",children:"Checkout"})}),c&&Object(o.jsxs)("div",{className:"notification",children:[Object(o.jsx)("p",{className:"notification--text",children:"We are sorry, but this feature is not implemented yet."}),Object(o.jsx)("button",{type:"button",className:"notification__close",onClick:function(){return s(!1)},children:Object(o.jsx)("div",{className:"notification__close--cross"})})]})]})]})]})},xe=function(){var e=Object(a.useContext)(y).cartItems;return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(he,{}),Object(o.jsxs)("div",{className:"cart",children:[Object(o.jsx)("h1",{className:"cart__title",children:"Cart"}),Object(o.jsx)("div",{className:"cart__main",children:e.length>0?Object(o.jsx)(Oe,{}):Object(o.jsx)("p",{className:"noResults",children:"Your cart is empty."})})]})]})},ve=function(){var e=Object(a.useContext)(k).favItems,t=Object(a.useContext)(O).appliedQuery,c=Object(l.n)().pathname,s=c.slice(1,2).toUpperCase()+c.slice(2),n=te(e.map((function(e){return e.product})),t);return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"favourites",children:[Object(o.jsx)(le,{pathname:s}),Object(o.jsx)("h1",{className:"favourites__title",children:"Favourites"}),e.length?Object(o.jsx)("p",{className:"favourites__quantity",children:"".concat(e.length," items")}):Object(o.jsx)("p",{className:"favourites__quantity",children:"There are no Favourite items."}),Object(o.jsx)("div",{className:"favourites__content",children:Object(o.jsx)(H,{arrOfItems:n})})]})})},fe=function(){return Object(o.jsx)("h1",{className:"noResults",children:"Page not found"})},Ne=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{className:"header",children:Object(o.jsx)(S,{})}),Object(o.jsx)("main",{className:"main",children:Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/",element:Object(o.jsx)(X,{})}),Object(o.jsx)(l.b,{index:!0,element:Object(o.jsx)(X,{})}),Object(o.jsx)(l.b,{path:"/home",element:Object(o.jsx)(l.a,{to:"/",replace:!0})}),Object(o.jsxs)(l.b,{path:"/phones",children:[Object(o.jsx)(l.b,{index:!0,element:Object(o.jsx)(de,{})}),Object(o.jsx)(l.b,{path:":itemId",element:Object(o.jsx)(pe,{})})]}),Object(o.jsxs)(l.b,{path:"/tablets",children:[Object(o.jsx)(l.b,{index:!0,element:Object(o.jsx)(je,{})}),Object(o.jsx)(l.b,{path:":itemId",element:Object(o.jsx)(pe,{})})]}),Object(o.jsx)(l.b,{path:"/accessories",element:Object(o.jsx)(ue,{})}),Object(o.jsx)(l.b,{path:"/cart",element:Object(o.jsx)(xe,{})}),Object(o.jsx)(l.b,{path:"/favourites",element:Object(o.jsx)(ve,{})}),Object(o.jsx)(l.b,{path:"*",element:Object(o.jsx)(fe,{})})]})}),Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)(u,{})})]})};r.a.render(Object(o.jsx)(i.a,{children:Object(o.jsx)(A,{children:Object(o.jsx)(C,{children:Object(o.jsx)(w,{children:Object(o.jsx)(ee,{children:Object(o.jsx)(x,{children:Object(o.jsx)(Ne,{})})})})})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.41b0652d.chunk.js.map